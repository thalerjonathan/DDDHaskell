<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
    <head>
        <title>Banking</title>
    </head>
    <body>
        <h1 th:text="${form.customerName}"></h1>
        <h2 th:text="${account.details.iban}"></h2>
        <h3 th:text="'Balance: ' + ${account.details.balance}"></h3>

        <a th:href="@{/customer(id=${form.customerId})}">Back</a>

        <br>
        <br>

        <form action="/account/deposit" th:object="${form}" method="post" name="deposit">
            <label for="amount">Amount:</label>
            <input type="number" step="0.01" id="amount" name="amount" th:field="*{amount}">
            <input type="hidden" id="customerId" name="customerId" th:field="*{customerId}" />
            <input type="hidden" id="customerName" name="customerName" th:field="*{customerName}" />
            <input type="hidden" id="iban" name="iban" th:field="*{iban}" />
            <input type="submit" name="submit" value="Deposit">
        </form>

        <form action="/account/withdraw" th:object="${form}" method="post" name="withdraw">
            <label for="amount">Amount:</label>
            <input type="number" step="0.01" id="amount" name="amount" th:field="*{amount}">
            <input type="hidden" id="customerId" name="customerId" th:field="*{customerId}" />
            <input type="hidden" id="customerName" name="customerName" th:field="*{customerName}" />
            <input type="hidden" id="iban" name="iban" th:field="*{iban}" />
            <input type="submit" name="submit" value="Withdraw">
        </form>

        <form action="/account/transfer" th:object="${form}" method="post" name="transfer">
            <input type="hidden" id="customerId" name="customerId" th:field="*{customerId}" />
            <input type="hidden" id="customerName" name="customerName" th:field="*{customerName}" />
            <input type="hidden" id="iban" name="iban" th:field="*{iban}" />

            <br>

            <label for="iban">Receiving IBAN:</label>
            <input type="text" id="receivingIban" name="receivingIban"><br>

            <label for="amount">Amount:</label>
            <input type="number" step="0.01" id="amount" name="amount" th:field="*{amount}"><br>

            <label for="amount">Reference:</label>
            <input type="text" id="reference" name="reference"><br>
            <input type="submit" name="submit" value="Transfer">
        </form>

        <ul>
            <li th:each="tx : ${account.txLines}">
                <p th:text="'Amount: ' + ${tx.amount}"></p>
                <p th:text="'Name: ' + ${tx.name}"></p>
                <p th:text="'Iban: ' + ${tx.iban}"></p>
                <p th:text="'Reference: ' + ${tx.reference}"></p>
            </li>
        </ul>
    </body>
</html>